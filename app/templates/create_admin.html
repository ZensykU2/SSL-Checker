<!DOCTYPE html>
<html lang="de" class="">
  <head>
    <meta charset="UTF-8" />
    <title>Admin erstellen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      (function () {
        const theme = localStorage.getItem("theme");
        if (
          theme === "dark" ||
          (!theme && window.matchMedia("(prefers-color-scheme: dark)").matches)
        ) {
          document.documentElement.classList.add("dark");
        }
      })();
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
    <script src="/static/js/theme-toggle.js"></script>
  </head>
  <body
    class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen flex"
  >
    {% include "partials/sidebar.html" %}
    <main class="flex-1 p-8">
      <h1 class="text-2xl font-bold mb-6">Neuen Admin erstellen</h1>
      <form method="POST" action="/create-admin" class="space-y-4 max-w-xl">
        <div>
          <label class="block text-sm font-medium mb-1" for="username"
            >Benutzername</label
          >
          <input
            type="text"
            name="username"
            required
            class="w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium mb-1" for="email"
            >E-Mail</label
          >
          <input
            type="email"
            name="email"
            required
            class="w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium mb-1" for="password"
            >Passwort</label
          >
          <div class="relative">
            <input
              id="register-password"
              type="password"
              name="password"
              placeholder="Neues Passwort"
              class="w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 dark:text-white"
            />
            <button
              type="button"
              class="absolute right-2 top-2"
              onclick="togglePassword('register-password')"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-6 h-6 text-gray-800"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"
                />
              </svg>
            </button>
          </div>
        </div>

        <button
          type="submit"
          class="bg-purple-700 text-white px-4 py-2 rounded hover:bg-purple-800 transition"
        >
          Admin erstellen
        </button>

        {% if message %}
        <p class="mt-4 text-green-600 dark:text-green-400">{{ message }}</p>
        {% endif %} {% if error %}
        <p class="mt-4 text-red-600 dark:text-red-400">{{ error }}</p>
        {% endif %}
      </form>
    </main>
    <script>
      function togglePassword(id) {
        const input = document.getElementById(id);
        input.type = input.type === "password" ? "text" : "password";
      }
    </script>
  </body>
</html>
